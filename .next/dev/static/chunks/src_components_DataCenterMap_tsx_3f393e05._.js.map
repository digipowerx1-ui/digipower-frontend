{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/purujitvij/Documents/BrewingCode/nextjs/digipower-frontend/src/components/DataCenterMap.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { Building2, Zap, MapPin } from 'lucide-react';\n\ninterface DataCenter {\n  id: number;\n  name: string;\n  location: string;\n  capacity: string;\n  coordinates: [number, number];\n  status: 'Operational' | 'Development';\n}\n\nconst dataCenters: DataCenter[] = [\n  {\n    id: 1,\n    name: 'North Tonawanda Power Plant',\n    location: 'New York',\n    capacity: '123 MW',\n    coordinates: [43.0395, -78.8640],\n    status: 'Operational',\n  },\n  {\n    id: 2,\n    name: 'Buffalo Hydropower Data Center',\n    location: 'Buffalo, NY',\n    capacity: '18.7 MW',\n    coordinates: [42.8864, -78.8784],\n    status: 'Operational',\n  },\n  {\n    id: 3,\n    name: 'Alabama Utility-Powered Facility',\n    location: 'Alabama',\n    capacity: '55 MW',\n    coordinates: [32.3182, -86.9023],\n    status: 'Operational',\n  },\n  {\n    id: 4,\n    name: 'North Carolina Development Site',\n    location: 'North Carolina',\n    capacity: '200 MW',\n    coordinates: [35.7596, -79.0193],\n    status: 'Development',\n  },\n];\n\nexport default function DataCenterMap() {\n  const mapRef = useRef<HTMLDivElement>(null);\n  const mapInstanceRef = useRef<L.Map | null>(null);\n\n  useEffect(() => {\n    // Prevent double initialization\n    if (mapInstanceRef.current) return;\n    if (!mapRef.current) return;\n\n    // Calculate center point\n    const centerLat = dataCenters.reduce((sum, dc) => sum + dc.coordinates[0], 0) / dataCenters.length;\n    const centerLng = dataCenters.reduce((sum, dc) => sum + dc.coordinates[1], 0) / dataCenters.length;\n\n    // Create map\n    const map = L.map(mapRef.current, {\n      center: [centerLat, centerLng],\n      zoom: 5,\n      scrollWheelZoom: false,\n      dragging: true,\n    });\n\n    mapInstanceRef.current = map;\n\n    // Add tile layer\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    }).addTo(map);\n\n    // Add markers\n    dataCenters.forEach((center) => {\n      const customIcon = L.divIcon({\n        className: 'custom-marker',\n        html: `\n          <div class=\"relative group cursor-pointer\">\n            <div class=\"absolute -inset-2 bg-brand-cyan/20 rounded-full blur-xl animate-pulse\"></div>\n            <div class=\"relative w-12 h-12 bg-gradient-to-br from-brand-navy to-brand-cyan rounded-full shadow-xl flex items-center justify-center border-4 border-white transform transition-transform duration-300 hover:scale-125\">\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                <rect width=\"16\" height=\"20\" x=\"4\" y=\"2\" rx=\"2\" ry=\"2\"/>\n                <path d=\"M9 22v-4h6v4\"/>\n                <path d=\"M8 6h.01\"/>\n                <path d=\"M16 6h.01\"/>\n                <path d=\"M12 6h.01\"/>\n                <path d=\"M12 10h.01\"/>\n                <path d=\"M12 14h.01\"/>\n                <path d=\"M16 10h.01\"/>\n                <path d=\"M16 14h.01\"/>\n                <path d=\"M8 10h.01\"/>\n                <path d=\"M8 14h.01\"/>\n              </svg>\n            </div>\n            ${center.status === 'Development' ? '<div class=\"absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full border-2 border-white\"></div>' : ''}\n          </div>\n        `,\n        iconSize: [48, 48],\n        iconAnchor: [24, 48],\n        popupAnchor: [0, -48],\n      });\n\n      const popupContent = `\n        <div class=\"p-2 min-w-[200px]\">\n          <div class=\"flex items-start gap-2 mb-2\">\n            <div class=\"w-5 h-5 text-brand-cyan flex-shrink-0 mt-0.5\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                <rect width=\"16\" height=\"20\" x=\"4\" y=\"2\" rx=\"2\" ry=\"2\"></rect>\n                <path d=\"M9 22v-4h6v4\"></path>\n                <path d=\"M8 6h.01\"></path>\n                <path d=\"M16 6h.01\"></path>\n                <path d=\"M12 6h.01\"></path>\n                <path d=\"M12 10h.01\"></path>\n                <path d=\"M12 14h.01\"></path>\n                <path d=\"M16 10h.01\"></path>\n                <path d=\"M16 14h.01\"></path>\n                <path d=\"M8 10h.01\"></path>\n                <path d=\"M8 14h.01\"></path>\n              </svg>\n            </div>\n            <div>\n              <h3 class=\"font-bold text-slate-900 text-base leading-tight\">${center.name}</h3>\n              <p class=\"text-xs text-slate-600 mt-1\">\n                <svg class=\"w-3 h-3 inline mr-1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                  <path d=\"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z\"></path>\n                  <circle cx=\"12\" cy=\"10\" r=\"3\"></circle>\n                </svg>\n                ${center.location}\n              </p>\n            </div>\n          </div>\n          <div class=\"flex items-center gap-2 mt-2 pt-2 border-t border-gray-200\">\n            <svg class=\"w-4 h-4 text-brand-cyan\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <path d=\"M13 2 3 14h9l-1 8 10-12h-9l1-8z\"></path>\n            </svg>\n            <span class=\"text-sm font-semibold text-slate-900\">${center.capacity}</span>\n            <span class=\"ml-auto px-2 py-0.5 text-xs font-bold rounded-full ${\n              center.status === 'Operational'\n                ? 'bg-green-100 text-green-700'\n                : 'bg-orange-100 text-orange-700'\n            }\">\n              ${center.status}\n            </span>\n          </div>\n        </div>\n      `;\n\n      L.marker(center.coordinates, { icon: customIcon })\n        .addTo(map)\n        .bindPopup(popupContent);\n    });\n\n    // Cleanup function\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.remove();\n        mapInstanceRef.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"relative w-full h-[600px] rounded-3xl overflow-hidden shadow-2xl border-2 border-gray-200\">\n      <div ref={mapRef} className=\"w-full h-full z-0\" />\n\n      {/* Legend */}\n      <div className=\"absolute bottom-6 left-6 bg-white/95 backdrop-blur-md rounded-2xl shadow-xl p-4 z-[1000] border border-gray-200\">\n        <h4 className=\"font-bold text-slate-900 mb-3 flex items-center gap-2\">\n          <MapPin className=\"w-4 h-4 text-brand-cyan\" />\n          Data Center Locations\n        </h4>\n        <div className=\"space-y-2 text-sm\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-3 h-3 bg-gradient-to-br from-brand-navy to-brand-cyan rounded-full\"></div>\n            <span className=\"text-slate-700\">Operational Facilities</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-3 h-3 bg-gradient-to-br from-brand-navy to-brand-cyan rounded-full relative\">\n              <div className=\"absolute -top-0.5 -right-0.5 w-2 h-2 bg-orange-500 rounded-full\"></div>\n            </div>\n            <span className=\"text-slate-700\">In Development</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Info Box */}\n      <div className=\"absolute top-6 right-6 bg-white/95 backdrop-blur-md rounded-2xl shadow-xl p-4 z-[1000] border border-gray-200 max-w-xs\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <div className=\"p-2 bg-gradient-to-br from-brand-navy to-brand-cyan rounded-lg\">\n            <Building2 className=\"w-5 h-5 text-white\" />\n          </div>\n          <div>\n            <p className=\"text-2xl font-bold text-slate-900\">{dataCenters.length}</p>\n            <p className=\"text-xs text-slate-600\">Active Locations</p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-3 pt-3 border-t border-gray-200\">\n          <div className=\"p-2 bg-gradient-to-br from-green-500 to-teal-500 rounded-lg\">\n            <Zap className=\"w-5 h-5 text-white\" />\n          </div>\n          <div>\n            <p className=\"text-2xl font-bold text-slate-900\">400 MW</p>\n            <p className=\"text-xs text-slate-600\">Total Capacity</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Custom Styles */}\n      <style>{`\n        .custom-marker {\n          background: transparent;\n          border: none;\n        }\n\n        .leaflet-popup-content-wrapper {\n          border-radius: 12px;\n          box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);\n        }\n\n        .leaflet-popup-tip {\n          display: none;\n        }\n\n        .leaflet-popup-content {\n          margin: 0;\n        }\n\n        .leaflet-container {\n          background: #f8fafc;\n        }\n\n        @keyframes pulse {\n          0%, 100% {\n            opacity: 0.6;\n          }\n          50% {\n            opacity: 1;\n          }\n        }\n\n        .animate-pulse {\n          animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}